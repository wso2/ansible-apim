[Unit]
Description=WSO2 API Manager - External Gateway profile
After=network.target

[Service]
ExecStart={{ setup_path }}/{{ product_name }}/{{ product_version }}/bin/wso2server.sh --optimize -Dprofile=gateway-worker -DworkerNode=true start
ExecStop={{ setup_path }}/{{ product_name }}/{{ product_version }}/bin/wso2server.sh stop
ExecRestart={{ setup_path }}/{{ product_name }}/{{ product_version }}/bin/wso2server.sh restart
PIDFile={{ setup_path }}/{{ product_name }}/{{ product_version }}/wso2carbon.pid
User={{ wso2_user }}
Group={{ wso2_group }}
Type=forking
Restart=on-failure
RestartSec=5
StartLimitInterval=60s
StartLimitBurst=3

[Install]
WantedBy=multi-user.target
